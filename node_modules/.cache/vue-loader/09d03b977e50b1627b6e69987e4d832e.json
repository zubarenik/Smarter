{"remainingRequest":"/home/nikita/VSCodeProjects/smarter/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nikita/VSCodeProjects/smarter/src/views/ViewCourses.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/nikita/VSCodeProjects/smarter/src/views/ViewCourses.vue","mtime":1580036504689},{"path":"/home/nikita/VSCodeProjects/smarter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nikita/VSCodeProjects/smarter/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/nikita/VSCodeProjects/smarter/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/nikita/VSCodeProjects/smarter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nikita/VSCodeProjects/smarter/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIHByb3BzOiBbJ3NjaG9vbEFCSScsICdjb3Vyc2VBQkknLCAnc2Nob29sQWRkcmVzcyddLAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBpdGVtczogW10sCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICBnZXRJdGVtcygpIHsKICAgICAgICAgICAgbGV0IFdlYjMgPSByZXF1aXJlKCd3ZWIzJykKICAgICAgICAgICAgbGV0IHdlYjMgPSBuZXcgV2ViMygnaHR0cHM6Ly9yb3BzdGVuLmluZnVyYS5pby92My9iOGUyMzE2NTk1Zjg0ODE0YTMzYWQyYzcxZDFkZWY0OScpICAgICAgICAgICAgICAgCiAgICAgICAgICAgIGxldCBjb250cmFjdFNjaG9vbCA9IG5ldyB3ZWIzLmV0aC5Db250cmFjdCh0aGlzLnNjaG9vbEFCSSwgdGhpcy5zY2hvb2xBZGRyZXNzKQogICAgICAgICAgICAKICAgICAgICAgICAgY29udHJhY3RTY2hvb2wubWV0aG9kcy5nZXRDb3Vyc2VzKCkuY2FsbCgpCiAgICAgICAgICAgIC50aGVuKGNvdXJzZXMgPT4gewogICAgICAgICAgICAgICAgZm9yIChsZXQgY291cnNlIG9mIGNvdXJzZXMpewogICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0U2Nob29sLm1ldGhvZHMuZ2V0Q291cnNlSW5mbyhjb3Vyc2UpLmNhbGwoKQogICAgICAgICAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvbnRyYWN0Q291cnNlID0gbmV3IHdlYjMuZXRoLkNvbnRyYWN0KHRoaXMuY291cnNlQUJJLCBjb3Vyc2UpCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBsZXNzb25zID0gW10KICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgbGVzc29uIG9mIHJlc3BvbnNlWzNdKXsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRyYWN0Q291cnNlLm1ldGhvZHMuZ2V0TGVzc29uSW5mbyhsZXNzb24pLmNhbGwoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oY3VycmVudExlc3NvbiA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVzc29ucy5wdXNoKGN1cnJlbnRMZXNzb24pCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBuZXdJdGVtID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHJlc3BvbnNlWzBdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29zdDogcmVzcG9uc2VbMl0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXNzb25zOiBsZXNzb25zLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2s6IGZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXRlbXMucHVzaChuZXdJdGVtKQogICAgICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pCiAgICAgICAgfQogICAgfSwKICAgIG1vdW50ZWQoKXsKICAgICAgICB0aGlzLmdldEl0ZW1zKCkKICAgIH0KfQo="},{"version":3,"sources":["ViewCourses.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ViewCourses.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div>\n        <v-row style=\"margin-top: 50px\">\n            <v-col v-for=\"item in items\" :key=\"item.title\" cols=\"12\">\n                <v-card \n                    style=\"margin-bottom: 20px\"\n                    max-width=\"70%\"\n                    class=\"mx-auto\"\n                    color=\"#dab8f3\"\n                >\n                    <v-list-item>\n                        <v-list-item-content>\n                            <v-list-item-title class=\"headline\" v-text=\"item.title\"></v-list-item-title>\n                            <v-list-item-title v-text=\"item.description\"></v-list-item-title>\n                            <v-list-item-icon>\n                            </v-list-item-icon>\n                        </v-list-item-content>\n                    </v-list-item>\n                    <div class=\"text-center\">              \n                        <v-btn \n                            color=\"#bbcfff\" \n                            width=\"90%\" \n                            @click=\"item.check = !item.check\"\n                        >\n                            View lessons\n                        </v-btn>\n                    </div>\n                    <div v-if=\"item.check\">\n                        <v-list-item-group color=\"#192965\">\n                            <v-list-item v-for=\"lesson in item.lessons\" :key=\"lesson[0]\">\n                                <v-list-item-icon>\n                                    <v-icon>mdi-buffer</v-icon>\n                                </v-list-item-icon>\n                                <v-list-item-content>\n                                    <v-list-item-title v-text=\"lesson[0]\"></v-list-item-title>\n                                </v-list-item-content>\n                            </v-list-item>\n                        </v-list-item-group>\n                    </div>\n                    <v-card-actions>\n                        <v-row\n                            align=\"center\"\n                            justify=\"end\"\n                        >\n                            <span class=\"subheading mr-2\">{{ item.cost }}</span>\n                            <v-icon class=\"mr-4\">mdi-cash-usd</v-icon>\n                            <v-btn icon class=\"mr-4\">\n                                <v-icon>mdi-arrow-down-bold-circle</v-icon>\n                            </v-btn>\n                        </v-row>\n                    </v-card-actions>\n                </v-card>\n            </v-col>    \n        </v-row>\n    </div>\n</template>\n\n<script>\nexport default {\n    props: ['schoolABI', 'courseABI', 'schoolAddress'],\n    data() {\n        return {\n            items: [],\n        }\n    },\n    methods: {\n        getItems() {\n            let Web3 = require('web3')\n            let web3 = new Web3('https://ropsten.infura.io/v3/b8e2316595f84814a33ad2c71d1def49')               \n            let contractSchool = new web3.eth.Contract(this.schoolABI, this.schoolAddress)\n            \n            contractSchool.methods.getCourses().call()\n            .then(courses => {\n                for (let course of courses){\n                    contractSchool.methods.getCourseInfo(course).call()\n                    .then(response => {\n                        let contractCourse = new web3.eth.Contract(this.courseABI, course)\n                        let lessons = []\n                        for (let lesson of response[3]){\n                            contractCourse.methods.getLessonInfo(lesson).call()\n                            .then(currentLesson => {\n                                lessons.push(currentLesson)\n                            })\n                        }\n                        let newItem = {\n                            title: response[0],\n                            description: response[1],\n                            cost: response[2],\n                            lessons: lessons,\n                            check: false,\n                        }\n                        this.items.push(newItem)\n                    })\n                }\n            })\n        }\n    },\n    mounted(){\n        this.getItems()\n    }\n}\n</script>"]}]}