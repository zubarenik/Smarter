{"remainingRequest":"/home/nikita/VSCodeProjects/smarter/node_modules/babel-loader/lib/index.js!/home/nikita/VSCodeProjects/smarter/node_modules/vuetify-loader/lib/loader.js??ref--18-0!/home/nikita/VSCodeProjects/smarter/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/nikita/VSCodeProjects/smarter/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/nikita/VSCodeProjects/smarter/src/views/CreateCourse.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/nikita/VSCodeProjects/smarter/src/views/CreateCourse.vue","mtime":1580049399780},{"path":"/home/nikita/VSCodeProjects/smarter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nikita/VSCodeProjects/smarter/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/nikita/VSCodeProjects/smarter/node_modules/vuetify-loader/lib/loader.js","mtime":1574476662000},{"path":"/home/nikita/VSCodeProjects/smarter/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/nikita/VSCodeProjects/smarter/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwpleHBvcnQgZGVmYXVsdCB7CiAgcHJvcHM6IFsnc2Nob29sQUJJJywgJ2NvdXJzZUFCSScsICdzY2hvb2xBZGRyZXNzJ10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHZhbGlkOiB0cnVlLAogICAgICB0aXRsZTogJycsCiAgICAgIHRpdGxlUnVsZXM6IFtmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAhIXYgfHwgJ1RpdGxlIGlzIHJlcXVpcmVkJzsKICAgICAgfSwgZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gdiAmJiB2Lmxlbmd0aCA8PSA1MCB8fCAnVGl0bGUgbXVzdCBiZSBsZXNzIHRoYW4gNTAgY2hhcmFjdGVycyc7CiAgICAgIH1dLAogICAgICBkZXNjcmlwdGlvbjogJycsCiAgICAgIGRlc2NyaXB0aW9uUnVsZXM6IFtmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAhIXYgfHwgJ0Rlc2NyaXB0aW9uIGlzIHJlcXVpcmVkJzsKICAgICAgfV0sCiAgICAgIGNvc3Q6ICcnLAogICAgICBjb3N0UnVsZXM6IFtmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAhIXYgfHwgJ0Nvc3QgaXMgcmVxdWlyZWQnOwogICAgICB9LCBmdW5jdGlvbiAodikgewogICAgICAgIHJldHVybiAhaXNOYU4odikgfHwgJ0Nvc3QgbXVzdCBiZSBhIG51bWJlciEnOwogICAgICB9XSwKICAgICAgY2hlY2tib3g6IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc3VibWl0OiBmdW5jdGlvbiBzdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAodGhpcy4kcmVmcy5mb3JtLnZhbGlkYXRlKCkpIHsKICAgICAgICB0aGlzLnNuYWNrYmFyID0gdHJ1ZTsKCiAgICAgICAgdmFyIFdlYjMgPSByZXF1aXJlKCd3ZWIzJyk7CgogICAgICAgIHZhciB3ZWIzID0gbmV3IFdlYjMoJ2h0dHBzOi8vcm9wc3Rlbi5pbmZ1cmEuaW8vdjMvYjhlMjMxNjU5NWY4NDgxNGEzM2FkMmM3MWQxZGVmNDknKTsKCiAgICAgICAgdmFyIFR4ID0gcmVxdWlyZSgnZXRoZXJldW1qcy10eCcpLlRyYW5zYWN0aW9uOwoKICAgICAgICB2YXIgYWNjb3VudCA9ICcweGU2MWEzYmY5MjA0MTQ5MWU2MUZiYkYxOTFlMjk3RTk2QjNmQWY3Y0InOwogICAgICAgIHZhciBwcml2YXRlS2V5ID0gQnVmZmVyLmZyb20oJ2E2ZmE5NWEzOWQ3NTgxMTc4MDk1YTZkMmJlZmI2OGNjOWUyMmM3ZWNjNGY0ODQ4ZTk3OTFhOWYwZGFjNmEyMzEnLCAnaGV4Jyk7CiAgICAgICAgdmFyIGNvbnRyYWN0U2Nob29sID0gbmV3IHdlYjMuZXRoLkNvbnRyYWN0KHRoaXMuc2Nob29sQUJJLCB0aGlzLnNjaG9vbEFkZHJlc3MpOwogICAgICAgIHdlYjMuZXRoLmdldFRyYW5zYWN0aW9uQ291bnQoYWNjb3VudCwgZnVuY3Rpb24gKGVyciwgdHhDb3VudCkgewogICAgICAgICAgdmFyIGRhdGEgPSBjb250cmFjdFNjaG9vbC5tZXRob2RzLmFkZENvdXJzZShwYXJzZUludChfdGhpcy5jb3N0KSwgX3RoaXMudGl0bGUsIF90aGlzLmRlc2NyaXB0aW9uKS5lbmNvZGVBQkkoKTsKICAgICAgICAgIHZhciB0eE9iamVjdCA9IHsKICAgICAgICAgICAgY2hhaW5JZDogMywKICAgICAgICAgICAgbm9uY2U6IHdlYjMudXRpbHMudG9IZXgodHhDb3VudCksCiAgICAgICAgICAgIGdhc0xpbWl0OiB3ZWIzLnV0aWxzLnRvSGV4KDMwMDAwMCksCiAgICAgICAgICAgIGdhc1ByaWNlOiB3ZWIzLnV0aWxzLnRvSGV4KHdlYjMudXRpbHMudG9XZWkoJzEwJywgJ2d3ZWknKSksCiAgICAgICAgICAgIHRvOiBfdGhpcy5zY2hvb2xBZGRyZXNzLAogICAgICAgICAgICBkYXRhOiBkYXRhCiAgICAgICAgICB9OwogICAgICAgICAgdmFyIHR4ID0gbmV3IFR4KHR4T2JqZWN0LCB7CiAgICAgICAgICAgIGNoYWluOiAncm9wc3RlbicKICAgICAgICAgIH0pOwogICAgICAgICAgdHguc2lnbihwcml2YXRlS2V5KTsKICAgICAgICAgIHZhciBzZXJpYWxpemVkVHggPSB0eC5zZXJpYWxpemUoKTsKICAgICAgICAgIHZhciByYXcgPSAnMHgnICsgc2VyaWFsaXplZFR4LnRvU3RyaW5nKCdoZXgnKTsKICAgICAgICAgIHdlYjMuZXRoLnNlbmRTaWduZWRUcmFuc2FjdGlvbihyYXcsIGZ1bmN0aW9uIChlcnIsIHR4SGFzaCkgewogICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZQogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIsIHR4SGFzaCk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy4kcmVmcy5mb3JtLnJlc2V0KCk7CiAgICB9LAogICAgcmVzZXRWYWxpZGF0aW9uOiBmdW5jdGlvbiByZXNldFZhbGlkYXRpb24oKSB7CiAgICAgIHRoaXMuJHJlZnMuZm9ybS5yZXNldFZhbGlkYXRpb24oKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["CreateCourse.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-form\n        ref=\"form\"\n        v-model=\"valid\"\n        lazy-validation\n        style=\"margin-top: 70px\"\n    >\n        <v-text-field\n            v-model=\"title\"\n            counter=\"50\"\n            :rules=\"titleRules\"\n            label=\"Title\"\n            required\n        ></v-text-field>\n        <v-text-field\n            v-model=\"description\"\n            :rules=\"descriptionRules\"\n            label=\"Description\"\n            required\n        ></v-text-field>\n        <v-text-field\n            v-model=\"cost\"\n            :rules=\"costRules\"\n            label=\"Cost\"\n            required\n        ></v-text-field>\n        <v-checkbox\n            v-model=\"checkbox\"\n            :rules=\"[v => !!v || 'You must agree to continue!']\"\n            label=\"Do you agree?\"\n            required\n        ></v-checkbox>\n        <v-btn\n            :disabled=\"!valid\"\n            color=\"success\"\n            class=\"mr-4\"\n            @click=\"submit\"\n        >\n            Submit\n        </v-btn>\n        <v-btn\n            color=\"error\"\n            class=\"mr-4\"\n            @click=\"reset\"\n        >\n            Reset Form\n        </v-btn>\n        <v-btn\n            color=\"warning\"\n            @click=\"resetValidation\"\n        >\n            Reset Validation\n        </v-btn>\n    </v-form>\n</template>\n\n<script>\n  export default {\n    props: ['schoolABI', 'courseABI', 'schoolAddress'],\n    data() {\n        return {\n            valid: true,\n            title: '',\n            titleRules: [\n                v => !!v || 'Title is required',\n                v => (v && v.length <= 50) || 'Title must be less than 50 characters',\n            ],\n            description: '',\n            descriptionRules: [\n                v => !!v || 'Description is required',\n            ],\n            cost: '',\n            costRules: [\n                v => !!v || 'Cost is required',\n                v => !isNaN(v) || 'Cost must be a number!',\n            ],\n            checkbox: false,\n        }\n    },\n    methods: {\n        submit () {\n            if (this.$refs.form.validate()){\n                this.snackbar = true\n\n                let Web3 = require('web3')\n                let web3 = new Web3('https://ropsten.infura.io/v3/b8e2316595f84814a33ad2c71d1def49')               \n                let Tx = require('ethereumjs-tx').Transaction\n\n                const account = '0xe61a3bf92041491e61FbbF191e297E96B3fAf7cB'\n                const privateKey = Buffer.from('a6fa95a39d7581178095a6d2befb68cc9e22c7ecc4f4848e9791a9f0dac6a231', 'hex')\n\n                let contractSchool = new web3.eth.Contract(this.schoolABI, this.schoolAddress)\n\n                web3.eth.getTransactionCount(account, (err, txCount) => {\n                    let data = contractSchool.methods.addCourse(parseInt(this.cost), this.title, this.description).encodeABI()\n                    let txObject = {\n                        chainId: 3,\n                        nonce: web3.utils.toHex(txCount),\n                        gasLimit: web3.utils.toHex(300000),\n                        gasPrice: web3.utils.toHex(web3.utils.toWei('10', 'gwei')),\n                        to: this.schoolAddress,\n                        data: data\n                    }\n\n                    let tx = new Tx(txObject, {chain: 'ropsten'})\n                    tx.sign(privateKey)\n\n                    let serializedTx = tx.serialize()\n                    let raw = '0x' + serializedTx.toString('hex')\n\n                    web3.eth.sendSignedTransaction(raw, (err, txHash) => {\n                        // eslint-disable-next-line no-console\n                        console.log(err, txHash)\n                    })      \n                })      \n            }\n        },\n        reset () {\n            this.$refs.form.reset()\n        },\n        resetValidation () {\n            this.$refs.form.resetValidation()\n        },\n    },\n  }\n</script>"],"sourceRoot":"src/views"}]}